"use strict";function toggleCard(e){var r=document.getElementById(e);$(r).toggle(100)}$(document).ready(function(){function e(){var e=$(this).attr("data-content");$(".pay__content.visible").removeClass("visible").fadeOut(),$("#content"+e).addClass("visible"),$(".tab").removeClass("active"),$(this).addClass("active")}function r(){var e=$(this).attr("data-hint"),r=$("#"+e);r.show(100),clearTimeout(a),$(this).on("mouseleave",function(){clearTimeout(a),a=setTimeout(function(){if(r.is(":hover"))return void r.on("mouseleave",function(){r.hide(100)});r.hide(100)},250)})}function n(e){return null==e.which?e.keyCode<32?null:[String.fromCharCode(e.keyCode),e.which]:0!==e.which&&0!==e.charCode?e.which<32?null:[String.fromCharCode(e.keyCode),e.which]:null}function t(){d.removeClass(s),$(this).addClass(s)}$(".tab").on("click",e),$(".card__num").groupinputs(),$(".card__num").on("input propertychange",function(e){var r=$(e.target),n=r.val(),t=r.caret(),a=n.replace(/[^0-9]/g,""),i=n.length-a.length;i&&r.val(a).caret(t.start-i,t.end-i)}),$(".card__num").focusin(function(){$(this).parent().addClass("focused")}),$(".card__num").focusout(function(){$(this).parent().removeClass("focused")});var a=void 0;$("[data-hint]").on("mouseenter",r);var i=$(".card__number").find('input[type="tel"]');i.on("focus",function(){var e=i.index(this);if(0!==e){var r=$(i[e-1]).val();(!r||r.length<4)&&i[e-1].focus()}}),$("#form_card").on("submit",function(e){e.preventDefault()}).validate({groups:{card_num:"card_num1 card_num2 card_num3 card_num4",cardexp:"card_exp_month card_exp_year"},rules:{card_num1:{required:!0,digits:!0,minlength:4},card_num2:{required:!0,digits:!0,minlength:4},card_num3:{required:!0,digits:!0,minlength:4},card_num4:{required:!0,digits:!0,minlength:4},card_exp_month:{required:!0,pastmonth:!0},card_exp_year:{required:!0},cvv2:{required:!0,minlength:3,maxlength:3,digits:!0}},messages:{card_num1:{required:messageValid.number.required,digits:messageValid.number.digits,minlength:messageValid.number.minlength},card_num2:{required:messageValid.number.required,digits:messageValid.number.digits,minlength:messageValid.number.minlength},card_num3:{required:messageValid.number.required,digits:messageValid.number.digits,minlength:messageValid.number.minlength},card_num4:{required:messageValid.number.required,digits:messageValid.number.digits,minlength:messageValid.number.minlength},card_exp_month:{required:messageValid.exp.required,pastmonth:messageValid.exp.pastmonth},card_exp_year:{required:messageValid.exp.required},cvv2:{required:messageValid.cvv2.required,minlength:messageValid.cvv2.minlength,maxlength:messageValid.cvv2.maxlength,digits:messageValid.cvv2.digits}},errorPlacement:function(e,r){"card_exp_month"==r.attr("name")||"card_exp_year"==r.attr("name")?e.insertAfter("#card_exp_month"):"card_num1"==r.attr("name")||"card_num2"==r.attr("name")||"card_num3"==r.attr("name")||"card_num4"==r.attr("name")?e.insertAfter($("#card_num4").parent()):e.insertAfter(r)},submitHandler:function(e){$(e).find('button[type="submit"]').attr("disabled",!0),e.submit()}}),$("#form_masterpass").on("submit",function(e){e.preventDefault()}).validate({rules:{mp_phone:{required:!0,phoneNumber:!0},mp_password:{required:!0}},messages:{mp_phone:{required:messageValid.phone.required,phoneNumber:messageValid.phone.required},mp_password:{required:messageValid.password.required}},errorPlacement:function(e,r){e.insertAfter(r)},submitHandler:function(e){$(e).find('button[type="submit"]').attr("disabled",!0),$(e).removeClass("visible"),$("#form_masterpass-cards").addClass("visible")}}),jQuery.validator.addMethod("pastmonth",function(e,r,n){var t=new Date;return+$("#card_exp_year").val()===t.getFullYear()?this.optional(r)||e>=t.getMonth()+1:this.optional(r)||!0},"Choose correct month"),jQuery.validator.addMethod("phoneNumber",function(e,r,n){return $(r).intlTelInput("isValidNumber")}),$("#mp_phone").intlTelInput({preferredCountries:["ua"],nationalMode:!1,autoFormat:!0});document.getElementById("cvv2"),document.getElementById("cvv-rec");$("input[name=cvv2], input[name=cvv-rec]").on("keypress keyup keydown",function(e){if(e=e||event,!(e.ctrlKey||e.altKey||e.metaKey)){var r=n(e);if(null!=r)return!(r[1]<"48"||r[1]>"57"||37===r[1]||38===r[1]||39===r[1]||40===r[1])&&void 0}});var d=$(".b-card"),s="active";d.on("click",t)});